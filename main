#include <cmath>
#include <cstdio>
#include <vector>
#include <iostream>
#include <algorithm>
using namespace std;

vector<int> rotate(vector<int> arr, int n){
    int temp = arr[n - 1];
    arr[n - 1] = arr[n];
    arr[n] = arr[n + 1];
    arr[n + 1] = temp;  
    return arr;
}

int main() {
    int t;
    cin >> t;
    while(t--){
        int size;
        cin >> size;
        vector <int> arr(size);
        for(int i = 0; i < size; i++)
            cin >> arr[i];
        for(int i = 0; i < size - 3; i++){
            if(arr[i] != i + 1){
                int iter = i + 1;
                while(arr[iter] != i + 1)
                    iter++;
                if(iter == size - 1){
                    arr = rotate(arr, iter - 1);
                        iter--;
                }
                while(arr[i] != i + 1){
                    arr = rotate(arr, iter);
                    iter--;
                }
            }  
        }
        for(int i = 0; i < 3; i++){
            if(arr[size - 3] < arr[size - 2] && arr[size - 2] < arr[size - 1]){
                cout << "YES" << endl;
                break;
            }else{
                arr = rotate(arr, size - 2);
            }
        }
        if(arr[size - 3] > arr[size - 2] || arr[size - 2] > arr[size - 1])
            cout << "NO" << endl;
        
    }
    return 0;
}
